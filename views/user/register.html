<div class="form login">
    <h3>注册</h3>
    <form method="post" action="/user/register" onsubmit="return checkregister_form();">
        <p>账号
            <span class="required">*</span>
        </p>
        <p>
            <input type="text" name="username" class="username" value="" /> 4-20位数字字母组合</p>
        <p>密码
            <span class="required">*</span>
        </p>
        <p>
            <input type="password" name="password" class="password" value="" /> 6-20位数字字母组合</p>
        <p>确认密码
            <span class="required">*</span>
        </p>
        <p>
            <input type="password" name="passwordagain" class="passwordagain" value="" /> 确认密码</p>
        <p>邮箱
            <span class="required">*</span>
        </p>
        <p>
            <input type="text" name="usermail" class="usermail" value="" /> 账号绑定邮箱，可用来登录</p>
        <p>网址 </p>
        <p>
            <input type="text" name="userurl" class="userurl" value="" />
        </p>
        <p>
            <input type="submit" value="注册" class="comment_submit" />
        </p>
    </form>
    <script type="text/javascript">
        function checkregister_form() {
            var Regex_username = /^[\w]{4,20}$/;
            var Regex_usermail = /^[\w]+@[a-zA-Z0-9]+.+[a-zA-Z]$/;
            var Regex_userurl = /^[http|https].*[.].*$/
            var username = $('.form .username').val();
            var password = $('.form .password').val();
            var passwordagain = $('.form .passwordagain').val();
            var usermail = $('.form .usermail').val();
            var userurl = $('.form .userurl').val();
            if (Regex_username.test(username) === false) {
                alert('账号必须为4-20位数字字母组合！');
                $('.form .username').focus();
                return false;
            } else if (password != passwordagain) {
                alert('确认密码不一致！');
                $('.form .passwordagain').focus();
                return false;
            } else if (Regex_username.test(password) === false) {
                alert('密码必须为6-20位数字字母组合！');
                $('.form .password').focus();
                return false;
            } else if (Regex_usermail.test(usermail) === false) {
                alert('邮箱格式不正确！');
                $('.form .usermail').focus();
                return false;
            } else if (userurl.length > 0 && Regex_userurl.test(userurl) === false) {
                alert('网址格式不正确！');
                $('.form .userurl').focus();
                return false;
            }
        }
    </script>
</div>